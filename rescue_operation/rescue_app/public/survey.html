<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆè‡ªå‹•é›†è¨ˆãƒ‡ãƒ¢ - è‡ªæ²»ä¼šDX</title>
    <style>
        :root {
            --primary: #005bac;
            --accent: #ff9800;
            --bg: #f4f7f9;
            --chart-1: #4285f4; /* Google Blue */
            --chart-2: #db4437; /* Google Red */
            --chart-3: #f4b400; /* Google Yellow */
        }
        body { font-family: sans-serif; background-color: var(--bg); margin: 0; padding: 20px; color: #333; }
        .container { max-width: 800px; margin: 0 auto; }
        
        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        h1 { color: var(--primary); text-align: center; font-size: 1.5rem; margin-bottom: 30px; }
        
        /* 2ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆã‚¹ãƒãƒ›ã§ã¯ç¸¦ä¸¦ã³ï¼‰ */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 600px) { .grid { grid-template-columns: 1fr; } }

        /* ã‚«ãƒ¼ãƒ‰å…±é€š */
        .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .card-header { font-weight: bold; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        
        /* å›ç­”ç”»é¢ï¼ˆå·¦ï¼‰ */
        .form-title { font-size: 1.1rem; font-weight: bold; margin-bottom: 15px; }
        .radio-label { display: block; padding: 12px; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 10px; cursor: pointer; transition: 0.2s; }
        .radio-label:hover { background: #f9f9f9; }
        input[type="radio"]:checked + span { font-weight: bold; color: var(--primary); }
        
        .btn-submit { 
            width: 100%; padding: 15px; background: var(--primary); color: white; 
            border: none; border-radius: 8px; font-size: 1rem; font-weight: bold; 
            cursor: pointer; margin-top: 10px; box-shadow: 0 4px 10px rgba(0,91,172,0.3); 
        }
        .btn-submit:active { transform: translateY(2px); }

        /* çµæœç”»é¢ï¼ˆå³ï¼‰ */
        .chart-box { margin-top: 20px; }
        .bar-group { margin-bottom: 15px; }
        .bar-label { display: flex; justify-content: space-between; font-size: 0.9rem; margin-bottom: 5px; }
        .bar-bg { background: #eee; height: 20px; border-radius: 10px; overflow: hidden; }
        .bar-fill { height: 100%; width: 0%; transition: width 0.5s cubic-bezier(0.4, 0.0, 0.2, 1); }
        
        .c1 { background-color: var(--chart-1); }
        .c2 { background-color: var(--chart-2); }
        .c3 { background-color: var(--chart-3); }

        .count-badge { background: #333; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem; }
        
        .toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 12px 24px; border-radius: 30px; font-size: 0.9rem; opacity: 0; transition: 0.3s; pointer-events: none; }
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
        
        .note { font-size: 0.85rem; color: #666; margin-top: 20px; background: #fff3e0; padding: 15px; border-radius: 8px; border-left: 5px solid var(--accent); }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ“ ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆè‡ªå‹•é›†è¨ˆãƒ‡ãƒ¢</h1>
    
    <div class="grid">
        <!-- 1. ä½æ°‘ã®å›ç­”ç”»é¢ -->
        <div class="card">
            <div class="card-header">
                <span style="font-size:1.5rem;">ğŸ“±</span> ä½æ°‘ã®ã‚¹ãƒãƒ›ç”»é¢
            </div>
            <div class="form-title">Q. æ¬¡å›ã®æ¸…æƒæ´»å‹•ã€å¸Œæœ›ã®æ—¥ç¨‹ã¯ï¼Ÿ</div>
            <form id="demoForm" onsubmit="return false;">
                <label class="radio-label">
                    <input type="radio" name="vote" value="A"> <span>åœŸæ›œæ—¥ã®åˆå‰</span>
                </label>
                <label class="radio-label">
                    <input type="radio" name="vote" value="B"> <span>æ—¥æ›œæ—¥ã®åˆå‰</span>
                </label>
                <label class="radio-label">
                    <input type="radio" name="vote" value="C"> <span>å¹³æ—¥ã®å¤•æ–¹</span>
                </label>
                <button class="btn-submit" onclick="submitVote()">å›ç­”ã‚’é€ä¿¡</button>
            </form>
        </div>

        <!-- 2. ä¼šé•·ã®ç¢ºèªç”»é¢ -->
        <div class="card">
            <div class="card-header">
                <span style="font-size:1.5rem;">ğŸ’»</span> ä¼šé•·ã®ç®¡ç†ç”»é¢
            </div>
            <p style="font-size:0.9rem; color:#666; margin:0;">å›ç­”ã•ã‚Œã‚‹ã¨ã€ã‚°ãƒ©ãƒ•ãŒè‡ªå‹•ã§ä¼¸ã³ã¾ã™ã€‚</p>
            
            <div class="chart-box">
                <div class="bar-group">
                    <div class="bar-label">
                        <span>åœŸæ›œæ—¥ã®åˆå‰</span>
                        <!-- ã“ã“ã«ç¥¨æ•°ã¨ï¼…ã‚’è¡¨ç¤º -->
                        <span class="count-badge" id="count-A">12ç¥¨ (60%)</span>
                    </div>
                    <div class="bar-bg"><div class="bar-fill c1" id="bar-A" style="width: 60%"></div></div>
                </div>

                <div class="bar-group">
                    <div class="bar-label">
                        <span>æ—¥æ›œæ—¥ã®åˆå‰</span>
                        <span class="count-badge" id="count-B">5ç¥¨ (25%)</span>
                    </div>
                    <div class="bar-bg"><div class="bar-fill c2" id="bar-B" style="width: 25%"></div></div>
                </div>

                <div class="bar-group">
                    <div class="bar-label">
                        <span>å¹³æ—¥ã®å¤•æ–¹</span>
                        <span class="count-badge" id="count-C">3ç¥¨ (15%)</span>
                    </div>
                    <div class="bar-bg"><div class="bar-fill c3" id="bar-C" style="width: 15%"></div></div>
                </div>
                
                <div style="text-align:right; font-size:0.9rem; margin-top:15px; font-weight:bold;">
                    å›ç­”ç·æ•°: <span id="total-count" style="font-size:1.2rem; color:#005bac;">20</span> ä»¶
                </div>
            </div>
        </div>
    </div>

    <div class="note">
        <strong>ğŸ’¡ ã“ã“ãŒãƒã‚¤ãƒ³ãƒˆ</strong><br>
        Google ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½¿ãˆã°ã€ã“ã®ã‚ˆã†ã«ã€Œèª°ã‹ãŒå›ç­”ã—ãŸç¬é–“ã€ã«è‡ªå‹•ã§é›†è¨ˆã•ã‚Œã¾ã™ã€‚<br>
        å½¹å“¡ãŒé›†ã¾ã£ã¦ã€Œæ­£ã€ã®å­—ã‚’æ›¸ã„ã¦æ•°ãˆã‚‹ä½œæ¥­ã¯ã€ã‚‚ã†å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚
    </div>
    
    <div style="text-align:center; margin-top:30px;">
        <a href="index.html" style="color:#005bac; text-decoration:none; font-weight:bold;">â† ã‚µã‚¤ãƒˆãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
    </div>
</div>

<div class="toast" id="toast">âœ… å›ç­”ã‚’å—ä¿¡ï¼ã‚°ãƒ©ãƒ•ã‚’è‡ªå‹•æ›´æ–°ã—ã¾ã—ãŸ</div>

<script>
    // åˆæœŸå€¤
    let votes = { A: 12, B: 5, C: 3 };

    function updateCharts() {
        const total = votes.A + votes.B + votes.C;
        
        // ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆè¨ˆç®—ï¼ˆæ•´æ•°ä¸¸ã‚ï¼‰
        const perA = Math.round(votes.A / total * 100);
        const perB = Math.round(votes.B / total * 100);
        const perC = Math.round(votes.C / total * 100);

        // è¡¨è¨˜æ›´æ–°ï¼šç¥¨æ•° (ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ%)
        document.getElementById('count-A').innerText = `${votes.A}ç¥¨ (${perA}%)`;
        document.getElementById('count-B').innerText = `${votes.B}ç¥¨ (${perB}%)`;
        document.getElementById('count-C').innerText = `${votes.C}ç¥¨ (${perC}%)`;
        document.getElementById('total-count').innerText = total;

        // ã‚°ãƒ©ãƒ•ã®é•·ã•æ›´æ–°
        document.getElementById('bar-A').style.width = perA + "%";
        document.getElementById('bar-B').style.width = perB + "%";
        document.getElementById('bar-C').style.width = perC + "%";
    }

    function submitVote() {
        // é¸æŠã•ã‚Œã¦ã„ã‚‹ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã‚’å–å¾—
        const selected = document.querySelector('input[name="vote"]:checked');
        
        if (!selected) {
            alert("é¸æŠè‚¢ã‚’é¸ã‚“ã§ãã ã•ã„");
            return;
        }

        // ç¥¨ã‚’åŠ ç®—
        const val = selected.value;
        votes[val]++;
        
        // ã‚°ãƒ©ãƒ•æ›´æ–°
        updateCharts();

        // é€šçŸ¥è¡¨ç¤º
        const toast = document.getElementById('toast');
        toast.classList.add('show');
        setTimeout(() => { toast.classList.remove('show'); }, 2500);
        
        // é¸æŠè§£é™¤ï¼ˆé€£ç¶šãƒ‡ãƒ¢ç”¨ï¼‰
        selected.checked = false;
    }
</script>

</body>
</html>